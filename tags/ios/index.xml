<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Ios on travis jeffery</title><link>https://travisjeffery.com/tags/ios/</link><description>Recent content in Ios on travis jeffery</description><generator>Hugo</generator><language>en-us</language><lastBuildDate>Fri, 10 Jan 2014 00:00:00 +0000</lastBuildDate><atom:link href="https://travisjeffery.com/tags/ios/index.xml" rel="self" type="application/rss+xml"/><item><title>Writing @ prefixed macros</title><link>https://travisjeffery.com/posts/2014-01-10-writing-at-prefixed-macros/</link><pubDate>Fri, 10 Jan 2014 00:00:00 +0000</pubDate><guid>https://travisjeffery.com/posts/2014-01-10-writing-at-prefixed-macros/</guid><description>&lt;p&gt;While writing my own debugging lib, an idea I was toying with was having a debug macro look like one of the built-in @ compiler directives, e.g. @selector, @encode, etc.&lt;/p&gt;
&lt;p&gt;Since macro names must be identifiers, and identifiers &lt;a href="http://msdn.microsoft.com/en-us/library/e7f8y25b.aspx"&gt;can&amp;rsquo;t have @s in them&lt;/a&gt;. You can&amp;rsquo;t do this:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-objc" data-lang="objc"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#57606a"&gt;#define @debug(fmt, ...) \
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#57606a"&gt; NSLog(fmt, ##__VA_ARGS__)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;The trick, we&amp;rsquo;ll write our macro such that the macro definition will be missing an @ prefix. When the definition expands, the @ before the real identifier will make our code valid.&lt;/p&gt;</description></item><item><title>Text processing with NSLinguisticTagger: implementing Writer Pro's syntax control</title><link>https://travisjeffery.com/posts/2013-12-25-implementing-writer-pros-syntax-highlighting-using-nslinguistictagger/</link><pubDate>Wed, 25 Dec 2013 00:00:00 +0000</pubDate><guid>https://travisjeffery.com/posts/2013-12-25-implementing-writer-pros-syntax-highlighting-using-nslinguistictagger/</guid><description>&lt;p&gt;Update: I wrote this code to show that iA was patenting a feature built into Apple&amp;rsquo;s frameworks. Any
iOS developer could build the same feature with ten lines of code. John Gruber &lt;a href="https://daringfireball.net/linked/2013/12/26/patent-before-christmas"&gt;linked my
project&lt;/a&gt; on Daring
Fireball. iA dropped their pending patents.&lt;/p&gt;
&lt;p&gt;Here&amp;rsquo;s how to implement Writer Pro&amp;rsquo;s syntax highlighting feature with attributed strings and NSLinguisticTagger.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://github.com/travisjeffery/LingusticTaggerDemo"&gt;Project&lt;/a&gt; on GitHub.&lt;/p&gt;
&lt;p&gt;&lt;img src="https://raw.github.com/travisjeffery/LingusticTaggerDemo/master/linguistictagger.gif" alt="demo gif"&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-objc" data-lang="objc"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#1f2328"&gt;-&lt;/span&gt; &lt;span style="color:#1f2328"&gt;(&lt;/span&gt;&lt;span style="color:#cf222e"&gt;void&lt;/span&gt;&lt;span style="color:#1f2328"&gt;)&lt;/span&gt;&lt;span style="color:#6639ba"&gt;highlightLinguisticTag:&lt;/span&gt;&lt;span style="color:#1f2328"&gt;(&lt;/span&gt;NSString &lt;span style="color:#0550ae"&gt;*&lt;/span&gt;&lt;span style="color:#1f2328"&gt;)&lt;/span&gt;&lt;span style="color:#953800"&gt;tag&lt;/span&gt; &lt;span style="color:#1f2328"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#6639ba"&gt;self&lt;/span&gt;&lt;span style="color:#1f2328"&gt;.&lt;/span&gt;textView&lt;span style="color:#1f2328"&gt;.&lt;/span&gt;attributedText &lt;span style="color:#0550ae"&gt;=&lt;/span&gt; &lt;span style="color:#1f2328"&gt;[&lt;/span&gt;&lt;span style="color:#6639ba"&gt;self&lt;/span&gt; &lt;span style="color:#900;font-weight:bold"&gt;attributedStringHighlightedForTag&lt;/span&gt;&lt;span style="color:#1f2328"&gt;:&lt;/span&gt;tag&lt;span style="color:#1f2328"&gt;];&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#1f2328"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#1f2328"&gt;-&lt;/span&gt; &lt;span style="color:#1f2328"&gt;(&lt;/span&gt;NSAttributedString &lt;span style="color:#0550ae"&gt;*&lt;/span&gt;&lt;span style="color:#1f2328"&gt;)&lt;/span&gt;&lt;span style="color:#6639ba"&gt;attributedStringHighlightedForTag:&lt;/span&gt;&lt;span style="color:#1f2328"&gt;(&lt;/span&gt;NSString &lt;span style="color:#0550ae"&gt;*&lt;/span&gt;&lt;span style="color:#1f2328"&gt;)&lt;/span&gt;&lt;span style="color:#953800"&gt;tag&lt;/span&gt; &lt;span style="color:#1f2328"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; NSString &lt;span style="color:#0550ae"&gt;*&lt;/span&gt;string &lt;span style="color:#0550ae"&gt;=&lt;/span&gt; &lt;span style="color:#0a3069"&gt;@&amp;#34;Some string...&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; NSRange stringRange &lt;span style="color:#0550ae"&gt;=&lt;/span&gt; NSMakeRange&lt;span style="color:#1f2328"&gt;(&lt;/span&gt;&lt;span style="color:#0550ae"&gt;0&lt;/span&gt;&lt;span style="color:#1f2328"&gt;,&lt;/span&gt; string&lt;span style="color:#1f2328"&gt;.&lt;/span&gt;length&lt;span style="color:#1f2328"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; NSMutableAttributedString &lt;span style="color:#0550ae"&gt;*&lt;/span&gt;text &lt;span style="color:#0550ae"&gt;=&lt;/span&gt; &lt;span style="color:#1f2328"&gt;[[&lt;/span&gt;NSMutableAttributedString alloc&lt;span style="color:#1f2328"&gt;]&lt;/span&gt; &lt;span style="color:#900;font-weight:bold"&gt;initWithString&lt;/span&gt;&lt;span style="color:#1f2328"&gt;:&lt;/span&gt;string &lt;span style="color:#900;font-weight:bold"&gt;attributes&lt;/span&gt;&lt;span style="color:#1f2328"&gt;:&lt;/span&gt;&lt;span style="color:#6639ba"&gt;nil&lt;/span&gt;&lt;span style="color:#1f2328"&gt;];&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#1f2328"&gt;[&lt;/span&gt;text &lt;span style="color:#900;font-weight:bold"&gt;addAttribute&lt;/span&gt;&lt;span style="color:#1f2328"&gt;:&lt;/span&gt;NSForegroundColorAttributeName &lt;span style="color:#900;font-weight:bold"&gt;value&lt;/span&gt;&lt;span style="color:#1f2328"&gt;:[&lt;/span&gt;UIColor lightGrayColor&lt;span style="color:#1f2328"&gt;]&lt;/span&gt; &lt;span style="color:#900;font-weight:bold"&gt;range&lt;/span&gt;&lt;span style="color:#1f2328"&gt;:&lt;/span&gt;stringRange&lt;span style="color:#1f2328"&gt;];&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; NSLinguisticTagger &lt;span style="color:#0550ae"&gt;*&lt;/span&gt;tagger &lt;span style="color:#0550ae"&gt;=&lt;/span&gt; &lt;span style="color:#1f2328"&gt;[[&lt;/span&gt;NSLinguisticTagger alloc&lt;span style="color:#1f2328"&gt;]&lt;/span&gt; &lt;span style="color:#900;font-weight:bold"&gt;initWithTagSchemes&lt;/span&gt;&lt;span style="color:#1f2328"&gt;:&lt;/span&gt;@[NSLinguisticTagSchemeLexicalClass] &lt;span style="color:#900;font-weight:bold"&gt;options&lt;/span&gt;&lt;span style="color:#1f2328"&gt;:&lt;/span&gt;&lt;span style="color:#0550ae"&gt;0&lt;/span&gt;&lt;span style="color:#1f2328"&gt;];&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; tagger&lt;span style="color:#1f2328"&gt;.&lt;/span&gt;string &lt;span style="color:#0550ae"&gt;=&lt;/span&gt; string&lt;span style="color:#1f2328"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#1f2328"&gt;[&lt;/span&gt;tagger &lt;span style="color:#900;font-weight:bold"&gt;enumerateTagsInRange&lt;/span&gt;&lt;span style="color:#1f2328"&gt;:&lt;/span&gt;stringRange &lt;span style="color:#900;font-weight:bold"&gt;scheme&lt;/span&gt;&lt;span style="color:#1f2328"&gt;:&lt;/span&gt;NSLinguisticTagSchemeLexicalClass &lt;span style="color:#900;font-weight:bold"&gt;options&lt;/span&gt;&lt;span style="color:#1f2328"&gt;:&lt;/span&gt;&lt;span style="color:#0550ae"&gt;0&lt;/span&gt; &lt;span style="color:#900;font-weight:bold"&gt;usingBlock&lt;/span&gt;&lt;span style="color:#1f2328"&gt;:&lt;/span&gt;&lt;span style="color:#0550ae"&gt;^&lt;/span&gt;&lt;span style="color:#1f2328"&gt;(&lt;/span&gt;NSString &lt;span style="color:#0550ae"&gt;*&lt;/span&gt;tokenTag&lt;span style="color:#1f2328"&gt;,&lt;/span&gt; NSRange tokenRange&lt;span style="color:#1f2328"&gt;,&lt;/span&gt; NSRange sentenceRange&lt;span style="color:#1f2328"&gt;,&lt;/span&gt; &lt;span style="color:#cf222e"&gt;BOOL&lt;/span&gt; &lt;span style="color:#0550ae"&gt;*&lt;/span&gt;stop&lt;span style="color:#1f2328"&gt;)&lt;/span&gt; &lt;span style="color:#1f2328"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#cf222e"&gt;if&lt;/span&gt; &lt;span style="color:#1f2328"&gt;([&lt;/span&gt;tokenTag &lt;span style="color:#900;font-weight:bold"&gt;isEqualToString&lt;/span&gt;&lt;span style="color:#1f2328"&gt;:&lt;/span&gt;tag&lt;span style="color:#1f2328"&gt;])&lt;/span&gt; &lt;span style="color:#1f2328"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#1f2328"&gt;[&lt;/span&gt;text &lt;span style="color:#900;font-weight:bold"&gt;addAttribute&lt;/span&gt;&lt;span style="color:#1f2328"&gt;:&lt;/span&gt;NSForegroundColorAttributeName &lt;span style="color:#900;font-weight:bold"&gt;value&lt;/span&gt;&lt;span style="color:#1f2328"&gt;:[&lt;/span&gt;UIColor blackColor&lt;span style="color:#1f2328"&gt;]&lt;/span&gt; &lt;span style="color:#900;font-weight:bold"&gt;range&lt;/span&gt;&lt;span style="color:#1f2328"&gt;:&lt;/span&gt;tokenRange&lt;span style="color:#1f2328"&gt;];&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#1f2328"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#1f2328"&gt;}];&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#cf222e"&gt;return&lt;/span&gt; text&lt;span style="color:#1f2328"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#1f2328"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Doesn&amp;rsquo;t take much, does it?&lt;/p&gt;</description></item><item><title>Preventing 'IB auto generated at build time for view with fixed frame' when using Auto Layout</title><link>https://travisjeffery.com/posts/2013-11-28-preventing-ib-auto-generated-at-build-time-for-view-with-fixed-frame/</link><pubDate>Thu, 28 Nov 2013 00:00:00 +0000</pubDate><guid>https://travisjeffery.com/posts/2013-11-28-preventing-ib-auto-generated-at-build-time-for-view-with-fixed-frame/</guid><description>&lt;p&gt;If you’re using Interface Builder with auto layout and go to write some layout constraints in code you may run into the following error - where the constraints you’ve added in code conflict with layout constraints ‘IB auto generated at build time for view with fixed frame’.&lt;/p&gt;
&lt;p&gt;&lt;img src="images/without-constraints.png" alt="without constraints"&gt;&lt;/p&gt;
&lt;p&gt;To prevent this, and to be able to do your layout constraints in code while not conflicting with interface builder, add leading/trailing/top/bottom constraints, just the existstence of them being there will tell ib not to interfere. And set them all to be removed at build time.&lt;/p&gt;</description></item><item><title>Using UIImage, UIColor, UIFont Code on Mac OS X</title><link>https://travisjeffery.com/posts/2013-11-02-using-uiimage-uicolor-uifont-code-on-mac-os-x/</link><pubDate>Sat, 02 Nov 2013 00:00:00 +0000</pubDate><guid>https://travisjeffery.com/posts/2013-11-02-using-uiimage-uicolor-uifont-code-on-mac-os-x/</guid><description>&lt;p&gt;This week I switched from working on iOS apps at 37signals to working on a similar mac app. I wanted to shared code between the ios and mac app, this is easy to do with foundation classes - my model and networking code. But doesn&amp;rsquo;t work right out of the box for stuff like images, colors, fonts, since they&amp;rsquo;re either in UIKit or AppKit. Thankfully you can adapt code for images, colors, and bezier paths using #define. Like so:&lt;/p&gt;</description></item><item><title>Using TextKit to put an image in a text view</title><link>https://travisjeffery.com/posts/2013-10-20-using-textkit-to-show-an-image-in-a-text-view/</link><pubDate>Sun, 20 Oct 2013 00:00:00 +0000</pubDate><guid>https://travisjeffery.com/posts/2013-10-20-using-textkit-to-show-an-image-in-a-text-view/</guid><description>&lt;p&gt;Boom goes the dynamite.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-objc" data-lang="objc"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;NSTextAttachment &lt;span style="color:#0550ae"&gt;*&lt;/span&gt;attachment &lt;span style="color:#0550ae"&gt;=&lt;/span&gt; &lt;span style="color:#1f2328"&gt;[[&lt;/span&gt;NSTextAttachment alloc&lt;span style="color:#1f2328"&gt;]&lt;/span&gt; &lt;span style="color:#900;font-weight:bold"&gt;initWithData&lt;/span&gt;&lt;span style="color:#1f2328"&gt;:&lt;/span&gt;&lt;span style="color:#6639ba"&gt;nil&lt;/span&gt; &lt;span style="color:#900;font-weight:bold"&gt;ofType&lt;/span&gt;&lt;span style="color:#1f2328"&gt;:&lt;/span&gt;&lt;span style="color:#6639ba"&gt;nil&lt;/span&gt;&lt;span style="color:#1f2328"&gt;];&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;attachment&lt;span style="color:#1f2328"&gt;.&lt;/span&gt;image &lt;span style="color:#0550ae"&gt;=&lt;/span&gt; &lt;span style="color:#1f2328"&gt;[&lt;/span&gt;UIImage &lt;span style="color:#900;font-weight:bold"&gt;imageNamed&lt;/span&gt;&lt;span style="color:#1f2328"&gt;:&lt;/span&gt;&lt;span style="color:#0a3069"&gt;@&amp;#34;whatever&amp;#34;&lt;/span&gt;&lt;span style="color:#1f2328"&gt;];&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;NSAttributedString &lt;span style="color:#0550ae"&gt;*&lt;/span&gt;attributedString &lt;span style="color:#0550ae"&gt;=&lt;/span&gt; &lt;span style="color:#1f2328"&gt;[&lt;/span&gt;NSAttributedString &lt;span style="color:#900;font-weight:bold"&gt;attributedStringWithAttachment&lt;/span&gt;&lt;span style="color:#1f2328"&gt;:&lt;/span&gt;attachment&lt;span style="color:#1f2328"&gt;];&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#6639ba"&gt;self&lt;/span&gt;&lt;span style="color:#1f2328"&gt;.&lt;/span&gt;textView&lt;span style="color:#1f2328"&gt;.&lt;/span&gt;attributedText &lt;span style="color:#0550ae"&gt;=&lt;/span&gt; attributedString&lt;span style="color:#1f2328"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description></item><item><title>How to know when a UIScrollView (includes UITableView, UICollectionView) finished scrolling</title><link>https://travisjeffery.com/posts/2013-10-19-how-to-know-when-a-uiscrollview-includes-uitableview-uicollectionview-finished-scrolling/</link><pubDate>Sat, 19 Oct 2013 00:00:00 +0000</pubDate><guid>https://travisjeffery.com/posts/2013-10-19-how-to-know-when-a-uiscrollview-includes-uitableview-uicollectionview-finished-scrolling/</guid><description>&lt;p&gt;UIScrollViewDelegate has the method: &lt;code&gt;-[UIScrollViewDelegate scrollViewDidEndDragging:willDecelerate:]&lt;/code&gt;, and the decelerate parameter is NO when the scroll view has finished scrolling.&lt;/p&gt;
&lt;p&gt;So you could use it like this:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-objc" data-lang="objc"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#1f2328"&gt;-&lt;/span&gt; &lt;span style="color:#1f2328"&gt;(&lt;/span&gt;&lt;span style="color:#cf222e"&gt;void&lt;/span&gt;&lt;span style="color:#1f2328"&gt;)&lt;/span&gt;&lt;span style="color:#6639ba"&gt;scrollViewDidEndDragging:&lt;/span&gt;&lt;span style="color:#1f2328"&gt;(&lt;/span&gt;UIScrollView &lt;span style="color:#0550ae"&gt;*&lt;/span&gt;&lt;span style="color:#1f2328"&gt;)&lt;/span&gt;&lt;span style="color:#953800"&gt;scrollView&lt;/span&gt; &lt;span style="color:#6639ba"&gt;willDecelerate:&lt;/span&gt;&lt;span style="color:#1f2328"&gt;(&lt;/span&gt;&lt;span style="color:#cf222e"&gt;BOOL&lt;/span&gt;&lt;span style="color:#1f2328"&gt;)&lt;/span&gt;&lt;span style="color:#953800"&gt;decelerate&lt;/span&gt; &lt;span style="color:#1f2328"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#cf222e"&gt;if&lt;/span&gt; &lt;span style="color:#1f2328"&gt;(&lt;/span&gt;&lt;span style="color:#0550ae"&gt;!&lt;/span&gt;decelerate&lt;span style="color:#1f2328"&gt;){&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; NSLog&lt;span style="color:#1f2328"&gt;(&lt;/span&gt;&lt;span style="color:#0a3069"&gt;@&amp;#34;The scroll view isn&amp;#39;t scrolling anymore.&amp;#34;&lt;/span&gt;&lt;span style="color:#1f2328"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#57606a"&gt;// perform some animation
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#57606a"&gt;&lt;/span&gt; &lt;span style="color:#1f2328"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#1f2328"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description></item><item><title>Server-sent event event source API client in ObjC for iOS and Mac using NSURLSession</title><link>https://travisjeffery.com/posts/2013-10-12-server-sent-event-event-source-api-client-in-objc-for-ios-and-mac-using-nsurlsession/</link><pubDate>Sat, 12 Oct 2013 00:00:00 +0000</pubDate><guid>https://travisjeffery.com/posts/2013-10-12-server-sent-event-event-source-api-client-in-objc-for-ios-and-mac-using-nsurlsession/</guid><description>&lt;p&gt;&lt;a href="https://github.com/travisjeffery/TRVSEventSource"&gt;TRVSEventSource&lt;/a&gt; provides an api for opening an http connection for receiving push notifications from a server in the form of &lt;a href="http://dev.w3.org/html5/eventsource/"&gt;server-sent events&lt;/a&gt;. Mozilla Developer Network has a &lt;a href="https://developer.mozilla.org/en-US/docs/Server-sent_events/Using_server-sent_events"&gt;good page&lt;/a&gt; on server-sent events and event source usage too.&lt;/p&gt;
&lt;h3 id="usage"&gt;usage&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-objc" data-lang="objc"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;TRVSEventSource &lt;span style="color:#0550ae"&gt;*&lt;/span&gt;eventSource &lt;span style="color:#0550ae"&gt;=&lt;/span&gt; &lt;span style="color:#1f2328"&gt;[[&lt;/span&gt;TRVSEventSource alloc&lt;span style="color:#1f2328"&gt;]&lt;/span&gt; &lt;span style="color:#900;font-weight:bold"&gt;initWithURL&lt;/span&gt;&lt;span style="color:#1f2328"&gt;:[&lt;/span&gt;NSURL &lt;span style="color:#900;font-weight:bold"&gt;URLWithString&lt;/span&gt;&lt;span style="color:#1f2328"&gt;:&lt;/span&gt;&lt;span style="color:#0a3069"&gt;@&amp;#34;http://127.0.0.1:8000&amp;#34;&lt;/span&gt;&lt;span style="color:#1f2328"&gt;]];&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#1f2328"&gt;[&lt;/span&gt;eventSource &lt;span style="color:#900;font-weight:bold"&gt;addListenerForEvent&lt;/span&gt;&lt;span style="color:#1f2328"&gt;:&lt;/span&gt;&lt;span style="color:#0a3069"&gt;@&amp;#34;message&amp;#34;&lt;/span&gt; &lt;span style="color:#900;font-weight:bold"&gt;usingEventHandler&lt;/span&gt;&lt;span style="color:#1f2328"&gt;:&lt;/span&gt;&lt;span style="color:#0550ae"&gt;^&lt;/span&gt;&lt;span style="color:#1f2328"&gt;(&lt;/span&gt;TRVSServerSentEvent &lt;span style="color:#0550ae"&gt;*&lt;/span&gt;event&lt;span style="color:#1f2328"&gt;,&lt;/span&gt; NSError &lt;span style="color:#0550ae"&gt;*&lt;/span&gt;error&lt;span style="color:#1f2328"&gt;)&lt;/span&gt; &lt;span style="color:#1f2328"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; NSDictionary &lt;span style="color:#0550ae"&gt;*&lt;/span&gt;JSON &lt;span style="color:#0550ae"&gt;=&lt;/span&gt; &lt;span style="color:#1f2328"&gt;[&lt;/span&gt;NSJSONSerialization &lt;span style="color:#900;font-weight:bold"&gt;JSONObjectWithData&lt;/span&gt;&lt;span style="color:#1f2328"&gt;:&lt;/span&gt;event&lt;span style="color:#1f2328"&gt;.&lt;/span&gt;data &lt;span style="color:#900;font-weight:bold"&gt;options&lt;/span&gt;&lt;span style="color:#1f2328"&gt;:&lt;/span&gt;&lt;span style="color:#0550ae"&gt;0&lt;/span&gt; &lt;span style="color:#900;font-weight:bold"&gt;error&lt;/span&gt;&lt;span style="color:#1f2328"&gt;:&lt;/span&gt;&lt;span style="color:#6639ba"&gt;NULL&lt;/span&gt;&lt;span style="color:#1f2328"&gt;];&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; Message &lt;span style="color:#0550ae"&gt;*&lt;/span&gt;message &lt;span style="color:#0550ae"&gt;=&lt;/span&gt; &lt;span style="color:#1f2328"&gt;[&lt;/span&gt;Message &lt;span style="color:#900;font-weight:bold"&gt;messageWithJSON&lt;/span&gt;&lt;span style="color:#1f2328"&gt;:&lt;/span&gt;JSON&lt;span style="color:#1f2328"&gt;];&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; NSArray &lt;span style="color:#0550ae"&gt;*&lt;/span&gt;messages &lt;span style="color:#0550ae"&gt;=&lt;/span&gt; &lt;span style="color:#1f2328"&gt;[&lt;/span&gt;&lt;span style="color:#6639ba"&gt;self&lt;/span&gt;&lt;span style="color:#1f2328"&gt;.&lt;/span&gt;messages &lt;span style="color:#900;font-weight:bold"&gt;arrayByAddingObject&lt;/span&gt;&lt;span style="color:#1f2328"&gt;:&lt;/span&gt;message&lt;span style="color:#1f2328"&gt;];&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; NSIndexPath &lt;span style="color:#0550ae"&gt;*&lt;/span&gt;indexPath &lt;span style="color:#0550ae"&gt;=&lt;/span&gt; &lt;span style="color:#1f2328"&gt;[&lt;/span&gt;NSIndexPath &lt;span style="color:#900;font-weight:bold"&gt;indexPathForItem&lt;/span&gt;&lt;span style="color:#1f2328"&gt;:&lt;/span&gt;messages&lt;span style="color:#1f2328"&gt;.&lt;/span&gt;count &lt;span style="color:#900;font-weight:bold"&gt;inSection&lt;/span&gt;&lt;span style="color:#1f2328"&gt;:&lt;/span&gt;&lt;span style="color:#0550ae"&gt;0&lt;/span&gt;&lt;span style="color:#1f2328"&gt;];&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; dispatch_async&lt;span style="color:#1f2328"&gt;(&lt;/span&gt;dispatch_get_main_queue&lt;span style="color:#1f2328"&gt;(),&lt;/span&gt; &lt;span style="color:#0550ae"&gt;^&lt;/span&gt;&lt;span style="color:#1f2328"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#6639ba"&gt;self&lt;/span&gt;&lt;span style="color:#1f2328"&gt;.&lt;/span&gt;messages &lt;span style="color:#0550ae"&gt;=&lt;/span&gt; messages&lt;span style="color:#1f2328"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#1f2328"&gt;[&lt;/span&gt;&lt;span style="color:#6639ba"&gt;self&lt;/span&gt;&lt;span style="color:#1f2328"&gt;.&lt;/span&gt;collectionView &lt;span style="color:#900;font-weight:bold"&gt;insertItemsAtIndexPaths&lt;/span&gt;&lt;span style="color:#1f2328"&gt;:&lt;/span&gt;@[indexPath]&lt;span style="color:#1f2328"&gt;];&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#1f2328"&gt;});&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#1f2328"&gt;}];&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;I wrote a &lt;a href="https://github.com/travisjeffery/TRVSEventSource/blob/master/TRVSEventSourceExample/server.js"&gt;test server&lt;/a&gt; that you can run during development too.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;node ./TRVSEventSourceExample/server.js&lt;/code&gt;&lt;/p&gt;</description></item><item><title>Async testing with Xcode and any testing framework such as XCTest, SenTestingKit, Expecta, etc.</title><link>https://travisjeffery.com/posts/2013-10-11-async-testing-with-xcode-and-any-testing-framework-xctest/</link><pubDate>Fri, 11 Oct 2013 00:00:00 +0000</pubDate><guid>https://travisjeffery.com/posts/2013-10-11-async-testing-with-xcode-and-any-testing-framework-xctest/</guid><description>&lt;p&gt;I wrote &lt;a href="https://github.com/travisjeffery/TRVSMonitor"&gt;TRVSMonitor&lt;/a&gt;, a synchronization construct with the ability to wait until signalled that a condition was met.&lt;/p&gt;
&lt;p&gt;This makes asynchronous testing easy. TRVSMonitor works with any testing framework too.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-objc" data-lang="objc"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#cf222e"&gt;@interface&lt;/span&gt; &lt;span style="color:#1f2328"&gt;APIClientTests&lt;/span&gt; : &lt;span style="color:#1f2328"&gt;XCTestCase&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#cf222e"&gt;@property&lt;/span&gt; &lt;span style="color:#1f2328"&gt;(&lt;/span&gt;&lt;span style="color:#cf222e"&gt;nonatomic&lt;/span&gt;&lt;span style="color:#1f2328"&gt;,&lt;/span&gt; &lt;span style="color:#cf222e"&gt;strong&lt;/span&gt;&lt;span style="color:#1f2328"&gt;,&lt;/span&gt; &lt;span style="color:#cf222e"&gt;readwrite&lt;/span&gt;&lt;span style="color:#1f2328"&gt;)&lt;/span&gt; NSURLSession &lt;span style="color:#0550ae"&gt;*&lt;/span&gt;URLSession&lt;span style="color:#1f2328"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#cf222e"&gt;@end&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#cf222e"&gt;@implementation&lt;/span&gt; &lt;span style="color:#1f2328"&gt;APIClientTests&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#1f2328"&gt;-&lt;/span&gt; &lt;span style="color:#1f2328"&gt;(&lt;/span&gt;&lt;span style="color:#cf222e"&gt;void&lt;/span&gt;&lt;span style="color:#1f2328"&gt;)&lt;/span&gt;&lt;span style="color:#6639ba"&gt;setUp&lt;/span&gt; &lt;span style="color:#1f2328"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#6639ba"&gt;self&lt;/span&gt;&lt;span style="color:#1f2328"&gt;.&lt;/span&gt;URLSession &lt;span style="color:#0550ae"&gt;=&lt;/span&gt; &lt;span style="color:#1f2328"&gt;[&lt;/span&gt;NSURLSession &lt;span style="color:#900;font-weight:bold"&gt;sessionWithConfiguration&lt;/span&gt;&lt;span style="color:#1f2328"&gt;:[&lt;/span&gt;NSURLSessionConfiguration defaultSessionConfiguration&lt;span style="color:#1f2328"&gt;]];&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#1f2328"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#1f2328"&gt;-&lt;/span&gt; &lt;span style="color:#1f2328"&gt;(&lt;/span&gt;&lt;span style="color:#cf222e"&gt;void&lt;/span&gt;&lt;span style="color:#1f2328"&gt;)&lt;/span&gt;&lt;span style="color:#6639ba"&gt;testAPIEndpoint&lt;/span&gt; &lt;span style="color:#1f2328"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#cf222e"&gt;__block&lt;/span&gt; NSDictionary &lt;span style="color:#0550ae"&gt;*&lt;/span&gt;JSON &lt;span style="color:#0550ae"&gt;=&lt;/span&gt; &lt;span style="color:#6639ba"&gt;nil&lt;/span&gt;&lt;span style="color:#1f2328"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#cf222e"&gt;__block&lt;/span&gt; TRVSMonitor &lt;span style="color:#0550ae"&gt;*&lt;/span&gt;monitor &lt;span style="color:#0550ae"&gt;=&lt;/span&gt; &lt;span style="color:#1f2328"&gt;[&lt;/span&gt;TRVSMonitor monitor&lt;span style="color:#1f2328"&gt;];&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#1f2328"&gt;[&lt;/span&gt;&lt;span style="color:#6639ba"&gt;self&lt;/span&gt;&lt;span style="color:#1f2328"&gt;.&lt;/span&gt;URLSession &lt;span style="color:#900;font-weight:bold"&gt;dataTaskWithRequest&lt;/span&gt;&lt;span style="color:#1f2328"&gt;:[&lt;/span&gt;NSURLRequest &lt;span style="color:#900;font-weight:bold"&gt;requestWithURL&lt;/span&gt;&lt;span style="color:#1f2328"&gt;:[&lt;/span&gt;NSURL &lt;span style="color:#900;font-weight:bold"&gt;URLWithString&lt;/span&gt;&lt;span style="color:#1f2328"&gt;:&lt;/span&gt;&lt;span style="color:#0a3069"&gt;@&amp;#34;http://127.0.0.1:8000&amp;#34;&lt;/span&gt;&lt;span style="color:#1f2328"&gt;]]&lt;/span&gt; &lt;span style="color:#900;font-weight:bold"&gt;completionHandler&lt;/span&gt;&lt;span style="color:#1f2328"&gt;:&lt;/span&gt;&lt;span style="color:#0550ae"&gt;^&lt;/span&gt;&lt;span style="color:#1f2328"&gt;(&lt;/span&gt;NSData &lt;span style="color:#0550ae"&gt;*&lt;/span&gt;data&lt;span style="color:#1f2328"&gt;,&lt;/span&gt; NSURLResponse &lt;span style="color:#0550ae"&gt;*&lt;/span&gt;response&lt;span style="color:#1f2328"&gt;,&lt;/span&gt; NSError &lt;span style="color:#0550ae"&gt;*&lt;/span&gt;error&lt;span style="color:#1f2328"&gt;)&lt;/span&gt; &lt;span style="color:#1f2328"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; JSON &lt;span style="color:#0550ae"&gt;=&lt;/span&gt; &lt;span style="color:#1f2328"&gt;[&lt;/span&gt;NSJSONSerialization &lt;span style="color:#900;font-weight:bold"&gt;JSONObjectWithData&lt;/span&gt;&lt;span style="color:#1f2328"&gt;:&lt;/span&gt;data &lt;span style="color:#900;font-weight:bold"&gt;options&lt;/span&gt;&lt;span style="color:#1f2328"&gt;:&lt;/span&gt;&lt;span style="color:#0550ae"&gt;0&lt;/span&gt; &lt;span style="color:#900;font-weight:bold"&gt;error&lt;/span&gt;&lt;span style="color:#1f2328"&gt;:&lt;/span&gt;&lt;span style="color:#6639ba"&gt;NULL&lt;/span&gt;&lt;span style="color:#1f2328"&gt;];&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#1f2328"&gt;[&lt;/span&gt;monitor signal&lt;span style="color:#1f2328"&gt;];&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#1f2328"&gt;}];&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#1f2328"&gt;[&lt;/span&gt;monitor wait&lt;span style="color:#1f2328"&gt;];&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; XCTAssert&lt;span style="color:#1f2328"&gt;(&lt;/span&gt;JSON&lt;span style="color:#1f2328"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; XCTAssertEqualObjects&lt;span style="color:#1f2328"&gt;(&lt;/span&gt;&lt;span style="color:#0a3069"&gt;@&amp;#34;1&amp;#34;&lt;/span&gt;&lt;span style="color:#1f2328"&gt;,&lt;/span&gt; JSON&lt;span style="color:#1f2328"&gt;[&lt;/span&gt;&lt;span style="color:#0a3069"&gt;@&amp;#34;id&amp;#34;&lt;/span&gt;&lt;span style="color:#1f2328"&gt;]);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; XCTAssertEqualObjects&lt;span style="color:#1f2328"&gt;(&lt;/span&gt;&lt;span style="color:#0a3069"&gt;@&amp;#34;travis jeffery&amp;#34;&lt;/span&gt;&lt;span style="color:#1f2328"&gt;,&lt;/span&gt; JSON&lt;span style="color:#1f2328"&gt;[&lt;/span&gt;&lt;span style="color:#0a3069"&gt;@&amp;#34;name&amp;#34;&lt;/span&gt;&lt;span style="color:#1f2328"&gt;]);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#1f2328"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#cf222e"&gt;@end&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Check the &lt;a href="https://github.com/travisjeffery/TRVSMonitor"&gt;readme&lt;/a&gt; for the deets.&lt;/p&gt;</description></item><item><title>Xcode attaching to app running in simulator not working</title><link>https://travisjeffery.com/posts/2013-10-03-xcode-attaching-to-app-running-in-simulator-not-working/</link><pubDate>Thu, 03 Oct 2013 00:00:00 +0000</pubDate><guid>https://travisjeffery.com/posts/2013-10-03-xcode-attaching-to-app-running-in-simulator-not-working/</guid><description>&lt;p&gt;If you&amp;rsquo;re running your app in Xcode and the simulator, they may hang saying &lt;code&gt;Attaching to your app name...&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;To fix this and run your app in the simulator with the lldb debugger, go into your app&amp;rsquo;s target, and explicitly set the deployment target to the version of the simulator to run. For me, right now, that&amp;rsquo;s &lt;code&gt;7.0&lt;/code&gt;. If left blank, or with the placeholder, Xcode isn&amp;rsquo;t smart enough to figure it out.&lt;/p&gt;</description></item><item><title>Basic authentication with AFNetworking 2</title><link>https://travisjeffery.com/posts/2013-09-27-basic-authentication-with-afnetworking-2/</link><pubDate>Fri, 27 Sep 2013 00:00:00 +0000</pubDate><guid>https://travisjeffery.com/posts/2013-09-27-basic-authentication-with-afnetworking-2/</guid><description>&lt;p&gt;Use &lt;code&gt;-[AFHTTPRequestSerializer setAuthorizationHeaderFieldWithUsername:password:]&lt;/code&gt; on &lt;code&gt;-[AFHTTPSessionManager requestSerializer]&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;For example, in your AFHTTPSessionManager subclass:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-objc" data-lang="objc"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#cf222e"&gt;@implementation&lt;/span&gt; &lt;span style="color:#1f2328"&gt;MyHTTPSessionManager&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#1f2328"&gt;-&lt;/span&gt; &lt;span style="color:#1f2328"&gt;(&lt;/span&gt;&lt;span style="color:#cf222e"&gt;instancetype&lt;/span&gt;&lt;span style="color:#1f2328"&gt;)&lt;/span&gt;&lt;span style="color:#6639ba"&gt;initWithBaseURL:&lt;/span&gt;&lt;span style="color:#1f2328"&gt;(&lt;/span&gt;NSURL &lt;span style="color:#0550ae"&gt;*&lt;/span&gt;&lt;span style="color:#1f2328"&gt;)&lt;/span&gt;&lt;span style="color:#953800"&gt;url&lt;/span&gt; &lt;span style="color:#1f2328"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#6639ba"&gt;self&lt;/span&gt; &lt;span style="color:#0550ae"&gt;=&lt;/span&gt; &lt;span style="color:#1f2328"&gt;[&lt;/span&gt;&lt;span style="color:#6639ba"&gt;super&lt;/span&gt; &lt;span style="color:#900;font-weight:bold"&gt;initWithBaseURL&lt;/span&gt;&lt;span style="color:#1f2328"&gt;:&lt;/span&gt;url&lt;span style="color:#1f2328"&gt;];&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#cf222e"&gt;if&lt;/span&gt; &lt;span style="color:#1f2328"&gt;(&lt;/span&gt;&lt;span style="color:#6639ba"&gt;self&lt;/span&gt;&lt;span style="color:#1f2328"&gt;)&lt;/span&gt; &lt;span style="color:#1f2328"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#1f2328"&gt;[&lt;/span&gt;&lt;span style="color:#6639ba"&gt;self&lt;/span&gt;&lt;span style="color:#1f2328"&gt;.&lt;/span&gt;requestSerializer &lt;span style="color:#900;font-weight:bold"&gt;setAuthorizationHeaderFieldWithUsername&lt;/span&gt;&lt;span style="color:#1f2328"&gt;:&lt;/span&gt;&lt;span style="color:#0a3069"&gt;@&amp;#34;username&amp;#34;&lt;/span&gt; &lt;span style="color:#900;font-weight:bold"&gt;password&lt;/span&gt;&lt;span style="color:#1f2328"&gt;:&lt;/span&gt;&lt;span style="color:#0a3069"&gt;@&amp;#34;password&amp;#34;&lt;/span&gt;&lt;span style="color:#1f2328"&gt;];&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#1f2328"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#cf222e"&gt;return&lt;/span&gt; &lt;span style="color:#6639ba"&gt;self&lt;/span&gt;&lt;span style="color:#1f2328"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#1f2328"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#cf222e"&gt;@end&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description></item><item><title>Scroll to the bottom of a UICollectionView</title><link>https://travisjeffery.com/posts/2013-09-19-scroll-to-the-very-bottom-of-a-uicollectionview/</link><pubDate>Thu, 19 Sep 2013 00:00:00 +0000</pubDate><guid>https://travisjeffery.com/posts/2013-09-19-scroll-to-the-very-bottom-of-a-uicollectionview/</guid><description>&lt;p&gt;Here ya go.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-obj-c" data-lang="obj-c"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;NSInteger section &lt;span style="color:#0550ae"&gt;=&lt;/span&gt; &lt;span style="color:#1f2328"&gt;[&lt;/span&gt;&lt;span style="color:#6639ba"&gt;self&lt;/span&gt; &lt;span style="color:#900;font-weight:bold"&gt;numberOfSectionsInCollectionView&lt;/span&gt;&lt;span style="color:#1f2328"&gt;:&lt;/span&gt;collectionView&lt;span style="color:#1f2328"&gt;]&lt;/span&gt; &lt;span style="color:#0550ae"&gt;-&lt;/span&gt; &lt;span style="color:#0550ae"&gt;1&lt;/span&gt;&lt;span style="color:#1f2328"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;NSInteger item &lt;span style="color:#0550ae"&gt;=&lt;/span&gt; &lt;span style="color:#1f2328"&gt;[&lt;/span&gt;&lt;span style="color:#6639ba"&gt;self&lt;/span&gt; &lt;span style="color:#900;font-weight:bold"&gt;collectionView&lt;/span&gt;&lt;span style="color:#1f2328"&gt;:&lt;/span&gt;collectionView &lt;span style="color:#900;font-weight:bold"&gt;numberOfItemsInSection&lt;/span&gt;&lt;span style="color:#1f2328"&gt;:&lt;/span&gt;section&lt;span style="color:#1f2328"&gt;]&lt;/span&gt; &lt;span style="color:#0550ae"&gt;-&lt;/span&gt; &lt;span style="color:#0550ae"&gt;1&lt;/span&gt;&lt;span style="color:#1f2328"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;NSIndexPath &lt;span style="color:#0550ae"&gt;*&lt;/span&gt;lastIndexPath &lt;span style="color:#0550ae"&gt;=&lt;/span&gt; &lt;span style="color:#1f2328"&gt;[&lt;/span&gt;NSIndexPath &lt;span style="color:#900;font-weight:bold"&gt;indexPathForItem&lt;/span&gt;&lt;span style="color:#1f2328"&gt;:&lt;/span&gt;item &lt;span style="color:#900;font-weight:bold"&gt;inSection&lt;/span&gt;&lt;span style="color:#1f2328"&gt;:&lt;/span&gt;section&lt;span style="color:#1f2328"&gt;];&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#1f2328"&gt;[&lt;/span&gt;collectionView &lt;span style="color:#900;font-weight:bold"&gt;scrollToItemAtIndexPath&lt;/span&gt;&lt;span style="color:#1f2328"&gt;:&lt;/span&gt;lastIndexPath &lt;span style="color:#900;font-weight:bold"&gt;atScrollPosition&lt;/span&gt;&lt;span style="color:#1f2328"&gt;:&lt;/span&gt;UICollectionViewScrollPositionBottom &lt;span style="color:#900;font-weight:bold"&gt;animated&lt;/span&gt;&lt;span style="color:#1f2328"&gt;:&lt;/span&gt;&lt;span style="color:#6639ba"&gt;YES&lt;/span&gt;&lt;span style="color:#1f2328"&gt;];&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description></item><item><title>Getting the status bar's height in iOS</title><link>https://travisjeffery.com/posts/2013-05-06-using-the-status-bars-frame-in-ios/</link><pubDate>Mon, 06 May 2013 00:00:00 +0000</pubDate><guid>https://travisjeffery.com/posts/2013-05-06-using-the-status-bars-frame-in-ios/</guid><description>&lt;p&gt;I had someone ask me for the best way to get the status bar&amp;rsquo;s height. Their problem was they were using UIApplication-statusBarFrame.size.height which will usually be 20.0f when in portrait (&lt;em&gt;&lt;strong&gt;but&lt;/strong&gt;&lt;/em&gt; would be bigger if the user is on the phone, etc.) but when the phone was oriented in landscape the height was 480.0f.&lt;/p&gt;
&lt;p&gt;The trick to the status bar&amp;rsquo;s frame and height is to make sure you&amp;rsquo;ve converted it to the coordinate space of the view that you care about, this will probably be a UIViewController&amp;rsquo;s view or subview.&lt;/p&gt;</description></item><item><title>Converting AVFoundation's power levels to/from logarithmic and linear scale</title><link>https://travisjeffery.com/posts/2013-02-08-converting-avfoundations-power-levels-to-from-logarithmic-and-linear-scale/</link><pubDate>Fri, 08 Feb 2013 00:00:00 +0000</pubDate><guid>https://travisjeffery.com/posts/2013-02-08-converting-avfoundations-power-levels-to-from-logarithmic-and-linear-scale/</guid><description>&lt;p&gt;When using AVFoundation, you&amp;rsquo;ll notice that the numbers returned when checking the audio channel power levels may look kind of strange. The audio levels returned to you when calling &lt;code&gt;AVCaptureSession-averagePowerLevel&lt;/code&gt; or &lt;code&gt;AVCaptureAudioChannel-averagePowerLevel&lt;/code&gt;, etc. are in a logarithmic scale from -160dB to 0dB, similar to how we perceive sound.&lt;/p&gt;
&lt;p&gt;But you may want to convert this logarithmic scale to a linear scale from 0.0 to 1.0 to use in an interface or something, here&amp;rsquo;s how to do it:&lt;/p&gt;</description></item><item><title>Notify yourself of successful/failed Xcode builds by email</title><link>https://travisjeffery.com/posts/2013-01-17-notify-yourself-of-successful-slash-failed-xcode-builds-with-email/</link><pubDate>Thu, 17 Jan 2013 00:00:00 +0000</pubDate><guid>https://travisjeffery.com/posts/2013-01-17-notify-yourself-of-successful-slash-failed-xcode-builds-with-email/</guid><description>&lt;p&gt;Compiling sucks, for the most part, and while it&amp;rsquo;s getting better with smarter compilers and faster computers this is what it often feels like:&lt;/p&gt;
&lt;img src="images/cookie-monster-bored.gif" alt="bored cookie monster" /&gt;
&lt;p&gt;So instead of sitting there, you head over to the kitchen, make a fresh cup of tea, and see how your friends and co-workers are doing. But what if your build failed right after you got up, or it was successful and you&amp;rsquo;re really excited to check out some animation you&amp;rsquo;ve been working on&amp;hellip; then you want to know right away!&lt;/p&gt;</description></item><item><title>Overriding UIViewController's view property, done right</title><link>https://travisjeffery.com/posts/2012-12-28-overriding-uiviewcontrollers-view-property-done-right/</link><pubDate>Fri, 28 Dec 2012 00:00:00 +0000</pubDate><guid>https://travisjeffery.com/posts/2012-12-28-overriding-uiviewcontrollers-view-property-done-right/</guid><description>&lt;p&gt;I read &lt;em&gt;&lt;strong&gt;a lot&lt;/strong&gt;&lt;/em&gt; of code, and some of the most common mistakes I see is how people override &lt;code&gt;UIViewController&lt;/code&gt;&amp;rsquo;s view property.&lt;/p&gt;
&lt;p&gt;Here&amp;rsquo;s how it &lt;em&gt;&lt;strong&gt;should&lt;/strong&gt;&lt;/em&gt; be done, in this example we&amp;rsquo;re replacing &lt;code&gt;UIViewController&lt;/code&gt;&amp;rsquo;s view property (a &lt;code&gt;UIView&lt;/code&gt;) with a &lt;code&gt;UIScrollView&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-objective-c" data-lang="objective-c"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#57606a"&gt;// ViewController.h
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#57606a"&gt;&lt;/span&gt;&lt;span style="color:#cf222e"&gt;@interface&lt;/span&gt; &lt;span style="color:#1f2328"&gt;ViewController&lt;/span&gt; : &lt;span style="color:#1f2328"&gt;UIViewController&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#cf222e"&gt;@property&lt;/span&gt; &lt;span style="color:#1f2328"&gt;(&lt;/span&gt;&lt;span style="color:#cf222e"&gt;strong&lt;/span&gt;&lt;span style="color:#1f2328"&gt;,&lt;/span&gt; &lt;span style="color:#cf222e"&gt;nonatomic&lt;/span&gt;&lt;span style="color:#1f2328"&gt;)&lt;/span&gt; UIScrollView &lt;span style="color:#0550ae"&gt;*&lt;/span&gt;view&lt;span style="color:#1f2328"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#cf222e"&gt;@end&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#57606a"&gt;// ViewController.m
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#57606a"&gt;&lt;/span&gt;&lt;span style="color:#cf222e"&gt;@implementation&lt;/span&gt; &lt;span style="color:#1f2328"&gt;ViewController&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#cf222e"&gt;@dynamic&lt;/span&gt; view&lt;span style="color:#1f2328"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#1f2328"&gt;-&lt;/span&gt; &lt;span style="color:#1f2328"&gt;(&lt;/span&gt;&lt;span style="color:#cf222e"&gt;void&lt;/span&gt;&lt;span style="color:#1f2328"&gt;)&lt;/span&gt;&lt;span style="color:#6639ba"&gt;loadView&lt;/span&gt; &lt;span style="color:#1f2328"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;	&lt;span style="color:#6639ba"&gt;self&lt;/span&gt;&lt;span style="color:#1f2328"&gt;.&lt;/span&gt;view &lt;span style="color:#0550ae"&gt;=&lt;/span&gt; &lt;span style="color:#1f2328"&gt;[[&lt;/span&gt;UIScrollView alloc&lt;span style="color:#1f2328"&gt;]&lt;/span&gt; &lt;span style="color:#900;font-weight:bold"&gt;initWithFrame&lt;/span&gt;&lt;span style="color:#1f2328"&gt;:&lt;/span&gt;UIScreen&lt;span style="color:#1f2328"&gt;.&lt;/span&gt;mainScreen&lt;span style="color:#1f2328"&gt;.&lt;/span&gt;applicationFrame&lt;span style="color:#1f2328"&gt;];&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#1f2328"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#cf222e"&gt;@end&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Common mistakes include:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Calling &lt;code&gt;[super loadView]&lt;/code&gt;, which just wastes resources and Apple&amp;rsquo;s documentation says not to do.&lt;/li&gt;
&lt;li&gt;Setting the view in &lt;code&gt;-viewDidLoad:&lt;/code&gt;, which wastes resources again.&lt;/li&gt;
&lt;li&gt;Not providing both the implementation &lt;strong&gt;and&lt;/strong&gt; type for the view property, and having to cast self.view everywhere&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Note, if you use Interface Builder and have an associated XIB file then by default &lt;code&gt;-loadView&lt;/code&gt; will take view from the XIB and load it as the &lt;code&gt;UIViewController&lt;/code&gt;&amp;rsquo;s view. So think of &lt;code&gt;-loadView&lt;/code&gt; as doing the job that a XIB would do, e.g. setting up your initial view hierarchy. Any code that wouldn&amp;rsquo;t change if you were to switch from using &lt;code&gt;-loadView&lt;/code&gt; to a XIB should go in &lt;code&gt;-viewDidLoad:&lt;/code&gt;.&lt;/p&gt;</description></item><item><title>Making Custom Transitions Between UIViewControllers</title><link>https://travisjeffery.com/posts/2012-10-22-making-custom-transitions-between-uiviewcontrollers-and-uinavigationcontrollertransition/</link><pubDate>Mon, 22 Oct 2012 00:00:00 +0000</pubDate><guid>https://travisjeffery.com/posts/2012-10-22-making-custom-transitions-between-uiviewcontrollers-and-uinavigationcontrollertransition/</guid><description>&lt;p&gt;I released a project called
&lt;a href="https://github.com/travisjeffery/TRVSNavigationControllerTransition"&gt;TRVSNavigationControllerTransition&lt;/a&gt;.
The project adds convenient methods to translate the entire UINavigationController&amp;rsquo;s view while
pushing and popping UIViewControllers to and from UINavigationControllers, rather than translating
the viewController&amp;rsquo;s view &amp;mdash; which is how UINavigationController&amp;rsquo;s pushViewController:animated:
works.&lt;/p&gt;
&lt;h2 id="example"&gt;Example&lt;/h2&gt;
&lt;p&gt;These images illustrate the difference. In the first image, the navigation controller translate&amp;rsquo;s the view controller&amp;rsquo;s view. The problem: if the view controller that&amp;rsquo;s pushed hides the navigation bar, then the navigation bar will suddenly and awkwardly hide during the push.&lt;/p&gt;</description></item><item><title>iOS how-to: mask and shadow views</title><link>https://travisjeffery.com/posts/2012-08-06-ios-how-to-mask-and-shadow-an-image/</link><pubDate>Mon, 06 Aug 2012 00:00:00 +0000</pubDate><guid>https://travisjeffery.com/posts/2012-08-06-ios-how-to-mask-and-shadow-an-image/</guid><description>&lt;p&gt;Two techniques that iOS developers use to make visually appealing app are masks and shadows; for
example, masking an image to have round corners, or adding a drop shadow to an image to have
depth. Implementing these techniques separately is trivial, implementing these techniques together
is tricky.&lt;/p&gt;
&lt;p&gt;To both mask and shadow any view, let&amp;rsquo;s use an image as an example, you:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;create a new layer whose layer has a shadow.&lt;/li&gt;
&lt;li&gt;mask the image&amp;rsquo;s layer.&lt;/li&gt;
&lt;li&gt;add the image&amp;rsquo;s layer as a sublayer of the shadow layer.&lt;/li&gt;
&lt;li&gt;add the shadow layer as a sublayer of the view that you want to show the image in.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I&amp;rsquo;ve created a &lt;a href="https://github.com/travisjeffery/ios-how-to-mask-and-shadow"&gt;project on
GitHub&lt;/a&gt;, and
&lt;a href="https://github.com/travisjeffery/ios-how-to-mask-and-shadow/commits/master/"&gt;wrote my
commits&lt;/a&gt;
in such a way as to see the stages of building our final result.&lt;/p&gt;</description></item><item><title>Adding a drop shadow to a table view</title><link>https://travisjeffery.com/posts/2012-07-23-adding-a-drop-shadow-to-a-table-view/</link><pubDate>Mon, 23 Jul 2012 00:00:00 +0000</pubDate><guid>https://travisjeffery.com/posts/2012-07-23-adding-a-drop-shadow-to-a-table-view/</guid><description>&lt;p&gt;Recently I was implementing a view where the last
cell of a table view needed a drop shadow.&lt;/p&gt;
&lt;p&gt;The idea of the implementation was to use the shadow properties on the
table cell&amp;rsquo;s Core Animation layer to render our drop shadow.&lt;/p&gt;
&lt;p&gt;(cell references the last cell of the table view)&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;- (UITableViewCell *)tableView:(UITableView *)tableView
 cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
 // ...
 cell.layer.shadowOffset = CGSizeMake(0, 15);
 cell.layer.shadowColor = [[UIColor blackColor] CGColor];
 cell.layer.shadowRadius = 3;
 cell.layer.shadowOpacity = .75f;
 CGRect shadowFrame = cell.layer.bounds;
 CGPathRef shadowPath = [UIBezierPath bezierPathWithRect:shadowFrame].CGPath;
 cell.layer.shadowPath = shadowPath;
 // ...
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;The shadow path is set for performance reasons, by setting it you remove the
need to blur the layers underneath the table view cell.&lt;/p&gt;</description></item><item><title>Getting the index path of a table view cell via a subview event</title><link>https://travisjeffery.com/posts/2012-07-22-getting-the-index-path-of-a-table-view-cell-via-a-subview-event/</link><pubDate>Sun, 22 Jul 2012 00:00:00 +0000</pubDate><guid>https://travisjeffery.com/posts/2012-07-22-getting-the-index-path-of-a-table-view-cell-via-a-subview-event/</guid><description>&lt;p&gt;You&amp;rsquo;ve subclassed UITableViewCell and you&amp;rsquo;ve added a UIButton as a subview. Whenever you touch that
button, you want to act on the data of your UITableView. To act on the data, you need to know the
index path of the cell containing the button. Here&amp;rsquo;s how.&lt;/p&gt;
&lt;p&gt;To find the index path of a touched subview; You add a touched event handler, then use the event to find the touch point in the table view, and then look up the index path at that point.&lt;/p&gt;</description></item></channel></rss>