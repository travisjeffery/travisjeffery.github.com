<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Vim on travis jeffery</title><link>https://travisjeffery.com/tags/vim/</link><description>Recent content in Vim on travis jeffery</description><generator>Hugo</generator><language>en-us</language><lastBuildDate>Fri, 17 Feb 2012 00:00:00 +0000</lastBuildDate><atom:link href="https://travisjeffery.com/tags/vim/index.xml" rel="self" type="application/rss+xml"/><item><title>Vim and the power of :g</title><link>https://travisjeffery.com/posts/2012-02-17-tidying-up-with-the-power-of-g/</link><pubDate>Fri, 17 Feb 2012 00:00:00 +0000</pubDate><guid>https://travisjeffery.com/posts/2012-02-17-tidying-up-with-the-power-of-g/</guid><description>&lt;p&gt;Vim&amp;rsquo;s &lt;code&gt;:g&lt;/code&gt; takes two inputs: a pattern and an operation, and it runs that operation on each line
that matches the pattern in the current file. &lt;code&gt;:g&lt;/code&gt; is a tool whose usage isn&amp;rsquo;t imposed on you, nor
obvious &amp;mdash; its usefulness depends on your creativity.&lt;/p&gt;
&lt;p&gt;Here&amp;rsquo;s an example of what &lt;code&gt;:g&lt;/code&gt; can do: grouping related lines. Take this file:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-vim" data-lang="vim"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#1f2328"&gt;Bundle&lt;/span&gt; &lt;span style="color:#0a3069"&gt;&amp;#39;git@github.com:travisjeffery/IndexedSearch.git&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#57606a"&gt;&amp;#34; Bundle &amp;#39;https://github.com/Shougo/neocomplcache.git&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#1f2328"&gt;Bundle&lt;/span&gt; &lt;span style="color:#0a3069"&gt;&amp;#39;https://github.com/tpope/vim-fugitive.git&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#1f2328"&gt;Bundle&lt;/span&gt; &lt;span style="color:#0a3069"&gt;&amp;#39;https://github.com/travisjeffery/vim-help&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#57606a"&gt;&amp;#34; Bundle &amp;#39;https://github.com/Lokaltog/vim-powerline.git&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#57606a"&gt;&amp;#34; Bundle &amp;#39;https://github.com/jiangmiao/auto-pairs.git&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#1f2328"&gt;Bundle&lt;/span&gt; &lt;span style="color:#0a3069"&gt;&amp;#39;https://github.com/tpope/vim-ragtag.git&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#1f2328"&gt;Bundle&lt;/span&gt; &lt;span style="color:#0a3069"&gt;&amp;#39;git@github.com:travisjeffery/vim-rails.git&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#57606a"&gt;&amp;#34; Bundle &amp;#39;git@github.com:travisjeffery/vim-rails-fork.git&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#1f2328"&gt;Bundle&lt;/span&gt; &lt;span style="color:#0a3069"&gt;&amp;#39;https://github.com/tpope/vim-repeat.git&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#1f2328"&gt;Bundle&lt;/span&gt; &lt;span style="color:#0a3069"&gt;&amp;#39;https://github.com/kien/ctrlp.vim.git&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#1f2328"&gt;Bundle&lt;/span&gt; &lt;span style="color:#0a3069"&gt;&amp;#39;git@github.com:travisjeffery/vim-unimpaired.git&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#57606a"&gt;&amp;#34; Bundle &amp;#39;https://github.com/thinca/vim-poslist.git&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;I want the commented lines grouped and moved up top. I run:&lt;/p&gt;</description></item><item><title>Hide comments with Vim folding</title><link>https://travisjeffery.com/posts/2012-01-30-automatically-fold-comments-in-vim/</link><pubDate>Tue, 17 Jan 2012 00:00:00 +0000</pubDate><guid>https://travisjeffery.com/posts/2012-01-30-automatically-fold-comments-in-vim/</guid><description>&lt;p&gt;No matter how clean your code is, you need to document your code.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Nothing can be quite so helpful as a well-placed comment. Nothing can clutter up a module more than frivolous dogmatic comments. Nothing can be quite so damaging as an old crufty comment that propagates lies and misinformation.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;Comments are not like Schindler’s List. They are not “pure good.” Indeed, comments are, at best, a necessary evil. If our programming languages were expressive enough, or if we had the talent to subtly wield those languages to express our intent, we would not need
comments very much—perhaps not at all.&lt;/p&gt;</description></item><item><title>Saving files in nonexistent directories with Vim</title><link>https://travisjeffery.com/posts/2011-11-28-saving-files-in-nonexistant-directories-with-vim/</link><pubDate>Mon, 28 Nov 2011 00:00:00 +0000</pubDate><guid>https://travisjeffery.com/posts/2011-11-28-saving-files-in-nonexistant-directories-with-vim/</guid><description>&lt;p&gt;I often open a file in a directory that doesn&amp;rsquo;t exist yet. However, Vim will not let you save a file
in a nonexistent directory.&lt;/p&gt;
&lt;p&gt;You can manually create the directory by running the following command:&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;:!mkdir %:p:h
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;You can automate creating the directory with the following autocommand:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-vim" data-lang="vim"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#1f2328"&gt;augroup&lt;/span&gt; &lt;span style="color:#1f2328"&gt;vimrc&lt;/span&gt;&lt;span style="color:#1f2328"&gt;-&lt;/span&gt;&lt;span style="color:#1f2328"&gt;auto&lt;/span&gt;&lt;span style="color:#1f2328"&gt;-&lt;/span&gt;&lt;span style="color:#1f2328"&gt;mkdir&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#cf222e"&gt;autocmd&lt;/span&gt;&lt;span style="color:#1f2328"&gt;!&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#cf222e"&gt;autocmd&lt;/span&gt; &lt;span style="color:#1f2328"&gt;BufWritePre&lt;/span&gt; * &lt;span style="color:#1f2328"&gt;call&lt;/span&gt; &lt;span style="color:#1f2328"&gt;s&lt;/span&gt;:&lt;span style="color:#1f2328"&gt;auto_mkdir&lt;/span&gt;&lt;span style="color:#1f2328"&gt;(&lt;/span&gt;&lt;span style="color:#1f2328"&gt;expand&lt;/span&gt;&lt;span style="color:#1f2328"&gt;(&lt;/span&gt;&lt;span style="color:#0a3069"&gt;&amp;#39;&amp;lt;afile&amp;gt;:p:h&amp;#39;&lt;/span&gt;&lt;span style="color:#1f2328"&gt;),&lt;/span&gt; &lt;span style="color:#1f2328"&gt;v&lt;/span&gt;:&lt;span style="color:#1f2328"&gt;cmdbang&lt;/span&gt;&lt;span style="color:#1f2328"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#cf222e"&gt;function&lt;/span&gt;&lt;span style="color:#1f2328"&gt;!&lt;/span&gt; &lt;span style="color:#1f2328"&gt;s&lt;/span&gt;:&lt;span style="color:#1f2328"&gt;auto_mkdir&lt;/span&gt;&lt;span style="color:#1f2328"&gt;(&lt;/span&gt;&lt;span style="color:#1f2328"&gt;dir&lt;/span&gt;&lt;span style="color:#1f2328"&gt;,&lt;/span&gt; &lt;span style="color:#1f2328"&gt;force&lt;/span&gt;&lt;span style="color:#1f2328"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#cf222e"&gt;if&lt;/span&gt; &lt;span style="color:#1f2328"&gt;!&lt;/span&gt;&lt;span style="color:#1f2328"&gt;isdirectory&lt;/span&gt;&lt;span style="color:#1f2328"&gt;(&lt;/span&gt;&lt;span style="color:#1f2328"&gt;a&lt;/span&gt;:&lt;span style="color:#1f2328"&gt;dir&lt;/span&gt;&lt;span style="color:#1f2328"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; \ &amp;amp;&amp;amp; &lt;span style="color:#1f2328"&gt;(&lt;/span&gt;&lt;span style="color:#1f2328"&gt;a&lt;/span&gt;:&lt;span style="color:#1f2328"&gt;force&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; \ &lt;span style="color:#1f2328"&gt;||&lt;/span&gt; &lt;span style="color:#1f2328"&gt;input&lt;/span&gt;&lt;span style="color:#1f2328"&gt;(&lt;/span&gt;&lt;span style="color:#0a3069"&gt;&amp;#34;&amp;#39;&amp;#34;&lt;/span&gt; . &lt;span style="color:#1f2328"&gt;a&lt;/span&gt;:&lt;span style="color:#1f2328"&gt;dir&lt;/span&gt; . &lt;span style="color:#0a3069"&gt;&amp;#34;&amp;#39; does not exist. Create? [y/N]&amp;#34;&lt;/span&gt;&lt;span style="color:#1f2328"&gt;)&lt;/span&gt; &lt;span style="color:#1f2328"&gt;=~&lt;/span&gt;? &lt;span style="color:#0a3069"&gt;&amp;#39;^y\%[es]$&amp;#39;&lt;/span&gt;&lt;span style="color:#1f2328"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#1f2328"&gt;call&lt;/span&gt; &lt;span style="color:#1f2328"&gt;mkdir&lt;/span&gt;&lt;span style="color:#1f2328"&gt;(&lt;/span&gt;&lt;span style="color:#1f2328"&gt;iconv&lt;/span&gt;&lt;span style="color:#1f2328"&gt;(&lt;/span&gt;&lt;span style="color:#1f2328"&gt;a&lt;/span&gt;:&lt;span style="color:#1f2328"&gt;dir&lt;/span&gt;&lt;span style="color:#1f2328"&gt;,&lt;/span&gt; &amp;amp;&lt;span style="color:#1f2328"&gt;encoding&lt;/span&gt;&lt;span style="color:#1f2328"&gt;,&lt;/span&gt; &amp;amp;&lt;span style="color:#1f2328"&gt;termencoding&lt;/span&gt;&lt;span style="color:#1f2328"&gt;),&lt;/span&gt; &lt;span style="color:#0a3069"&gt;&amp;#39;p&amp;#39;&lt;/span&gt;&lt;span style="color:#1f2328"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#cf222e"&gt;endif&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#cf222e"&gt;endfunction&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#1f2328"&gt;augroup&lt;/span&gt; &lt;span style="color:#1f2328"&gt;END&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;With this command, when you save a file in nonexistent directory, Vim will ask you if you want the directory created and then create it.&lt;/p&gt;</description></item><item><title>Markdown headers in Vim</title><link>https://travisjeffery.com/posts/2011-11-18-markdown-headers-in-vim/</link><pubDate>Fri, 18 Nov 2011 00:00:00 +0000</pubDate><guid>https://travisjeffery.com/posts/2011-11-18-markdown-headers-in-vim/</guid><description>&lt;p&gt;With TextMate&amp;rsquo;s Markdown bundle, you can mark headers by moving your cursor to the line
after the intended header, typing &lt;code&gt;#&lt;/code&gt; and pressing &lt;code&gt;&amp;lt;Tab&amp;gt;&lt;/code&gt;. The Textmate bundle insert #&amp;rsquo;s until the
last # aligns with the header&amp;rsquo;s last character.&lt;/p&gt;
&lt;p&gt;For example:&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;This Will Be My Header
#&amp;lt;Tab&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Turns into:&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;This Will Be My Header
######################
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Here&amp;rsquo;s the equivalent feature in Vim:&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;:t.|s/./#/g
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;code&gt;:t.&lt;/code&gt; copies the current line to the next line and &lt;code&gt;s/./#/g&lt;/code&gt; substitutes any character on that line with a #. Use Vim&amp;rsquo;s built-in help command, e.g. &lt;code&gt;:h :t&lt;/code&gt;, for more details.&lt;/p&gt;</description></item><item><title>M-x occur for Vim</title><link>https://travisjeffery.com/posts/2011-10-31-m-x-occur-for-vim/</link><pubDate>Mon, 31 Oct 2011 00:00:00 +0000</pubDate><guid>https://travisjeffery.com/posts/2011-10-31-m-x-occur-for-vim/</guid><description>&lt;p&gt;Emacs has a feature named &amp;ldquo;occur&amp;rdquo; that lists the lines in the current buffer that match a given regexp. I&amp;rsquo;ve created the equivalent feature in Vim:&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;nmap g/ :vimgrep /&amp;lt;C-R&amp;gt;//j %&amp;lt;CR&amp;gt;\|:cw&amp;lt;CR&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;With this mapped, here&amp;rsquo;s how you&amp;rsquo;d use it:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Search for you&amp;rsquo;re looking for with &lt;code&gt;/my query&amp;lt;CR&amp;gt;&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Press &lt;code&gt;g/&lt;/code&gt; to open the quickfix list containing the matched lines.&lt;/li&gt;
&lt;li&gt;Navigate to the line you&amp;rsquo;re interested in and press &lt;code&gt;&amp;lt;CR&amp;gt;&lt;/code&gt;.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;You could create a function to combine the steps; taking the query as input, running the search, and
opening the quickfix list. But I prefer having them separate.&lt;/p&gt;</description></item></channel></rss>