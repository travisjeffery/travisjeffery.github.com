<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="description" content="Travis Jeffery">
    <link href="/css/style.css" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/css?family=Fira+Code|Josefin+Sans:400,400i,700,700i&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.9.1/styles/github.min.css" type="text/css" media="screen">
    <script src="/js/jquery.js" type="text/javascript" charset="utf-8"></script>
    <script src="/js/judy.js" type="text/javascript" charset="utf-8"></script>
    <script src="/js/main.js" type="text/javascript" charset="utf-8"></script>
    <script>
     (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
       (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
       m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
     })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  
     ga('create', 'UA-8462120-1', 'travisjeffery.com');
      ga('send', 'pageview');
    </script>
    <title>Notify yourself of successful/failed Xcode builds by email</title>
  </head>
  <body>
    <div class="container-fluid container">
      <div class="row">
        <div class="col-xs-12 col-lg-8 col-lg-offset-2">
          <hgroup id="header">
            <h1 class="logo col-xs-6">
              <a class="" href="/">travis jeffery</a>
            </h1>
          
            <div class="social col-xs-6 pull-xs-right">
                  <a href="https://twitter.com/travisjeffery" class="twitter-follow-button" data-show-count="false" data-size="large">Follow @travisjeffery</a>
              <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
            </div>
          </hgroup>

          <hr>

          <article>
            <header>
              <h1 class="article-title three-quarter-margin-bottom">Notify yourself of successful/failed Xcode builds by email</h1>
            </header>

            <p>Compiling sucks, for the most part, and while it‚Äôs getting better with smarter compilers and faster computers this is what it often feels like:</p>
<img src="images/cookie-monster-bored.gif" alt="bored cookie monster" />

<p>So instead of sitting there, you head over to the kitchen, make a fresh cup of tea, and see how your friends and co-workers are doing. But what if your build failed right after you got up, or it was successful and you‚Äôre really excited to check out some animation you‚Äôve been working on‚Ä¶ then you want to know right away!</p>
<p>I‚Äôve got an iPhone, a Gmail app with push notifications, and Xcode can run scripts when builds finish‚Ä¶ let‚Äôs do this!</p>
<p>Open up Xcode‚Äôs preferences, and configure things like so:</p>
<img src="images/xcode-configuration.png" alt="xcode configuration" />

<p>Here‚Äôs what the Ruby script looks like, you‚Äôll need to install the <code>tlsmail</code> gem.</p>
<pre><code class="hljs ruby"><span class="hljs-comment">#!/usr/bin/env ruby</span>
<span class="hljs-comment"># encoding: utf-8</span>

<span class="hljs-keyword">require</span> <span class="hljs-string">"rubygems"</span>
<span class="hljs-keyword">require</span> <span class="hljs-string">"tlsmail"</span>

my_actual_email_address = <span class="hljs-string">"...@gmail.com"</span>

my_sending_email_address = <span class="hljs-string">"...@gmail.com"</span>
my_sending_email_password = <span class="hljs-string">"..."</span>

email_content = <span class="hljs-string">&lt;&lt;EOF
From: <span class="hljs-subst">#{my_sending_email_address}</span>
To: <span class="hljs-subst">#{my_actual_email_address}</span>
Subject: Build Finished Successfully! üëç
Date: <span class="hljs-subst">#{Time.now}</span>
EOF</span>

Net::SMTP.enable_tls(OpenSSL::SSL::VERIFY_NONE)
Net::SMTP.start(<span class="hljs-string">"smtp.gmail.com"</span>, <span class="hljs-number">587</span>, <span class="hljs-string">"gmail.com"</span>, my_sending_email_address, my_sending_email_password, <span class="hljs-symbol">:login</span>) <span class="hljs-keyword">do</span> <span class="hljs-params">|smtp|</span>
  smtp.send_message(email_content, my_sending_email_address, my_actual_email_address)
<span class="hljs-keyword">end</span></code></pre>

<img src="images/build-successful.png">

<p>Here <code>my_actual_email_address</code> is the account that I want the email sent to, and <code>my_sending_email_address</code> is just some email account I setup specifically for this so I didn‚Äôt have to  worry about storing my password in plain text, or mess around with encrypting/decrypting it.</p>
<p>Now when I‚Äôm sitting there drinking my tea with my co-workers, I get my notification on my phone, and I know right away that the build finished and if it was successful.</p>
<p>How compiling feels now:</p>
<img src="images/bill-cosby-yes.gif">


          </article>

          <hr>

          <footer>
            <p class="half-margin-bottom">
              Share: <a href="https://twitter.com/share" class="twitter-share-button"{count} data-via="travisjeffery" data-size="large">Tweet about this article</a><br>
              <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
              Written: January 17th, 2013<br>
              Tags: 
            </p>

            <p class="one-margin-bottom"><a href="/#recent">Read more posts &#8230;</a></p>
          </footer>
          <hr>
          
          <footer class="footer">
            <a href="https://twitter.com/travisjeffery" class="twitter-follow-button" data-show-count="false" data-size="large">Follow @travisjeffery</a>
            <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>  
          </footer>
        </div>
      </div>
    </div>
  </body>
</html>
