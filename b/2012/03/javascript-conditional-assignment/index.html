<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="description" content="Travis Jeffery">
  <link href="/css/style.css" rel="stylesheet"/>  
  <link href="https://fonts.googleapis.com/css?family=Josefin+Sans:400,400i,600,600i" rel="stylesheet">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.9.1/styles/github.min.css" type="text/css" media="screen">  
  <script src="/js/jquery.js" type="text/javascript" charset="utf-8"></script>
  <script src="/js/judy.js" type="text/javascript" charset="utf-8"></script>
  <script src="/js/main.js" type="text/javascript" charset="utf-8"></script>
  <script>
   (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
     (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
     m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
   })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

   ga('create', 'UA-8462120-1', 'travisjeffery.com');
    ga('send', 'pageview');
  </script>
  <title>JavaScript conditional assignment</title>
</head>
<body>
  <div class="container-fluid container">
    <div class="row">
      <div class="col-xs-12 col-lg-8 col-lg-offset-2">
        <hgroup id="header">
          <h1 class="logo col-xs-6">
            <a class="" href="/">travis jeffery</a>
          </h1>
          
          <div class="social col-xs-6 pull-xs-right">
                <a href="https://twitter.com/travisjeffery" class="twitter-follow-button" data-show-count="false" data-size="large">Follow @travisjeffery</a>
            <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
          </div>
        </hgroup>

        <hr>

        <article>
          <header>
            <h2 class="article-title">JavaScript conditional assignment</h2>
          </header>

          <p>A common idiom with in programming is conditional assignment, usually to
set an undefined variable. Ruby has a nice operator, <code>||=</code> for this purpose,
JavaScript doesn’t have such an operator. So often variables that are used
across multiple files, like namespaces, have to be repeatedly conditionally
assigned. By not doing so you may try to use the variable before it’s been
declared and have a <code>ReferenceError</code> thrown.</p>
<p>There
<a href="http://stackoverflow.com/questions/881515/javascript-namespace-declaration">are</a>
<a href="http://stackoverflow.com/questions/4401323/javascript-best-practice-define-variable-namespace-check-is-not-already-define">lots</a>
<a href="http://blog.arc90.com/2008/06/06/an-easy-way-to-implement-namespaces-in-javascript/">of</a>
<a href="http://stackoverflow.com/questions/7639268/nicer-way-of-checking-javascript-namespace">ways</a> to conditionally assign in JavaScript.
This is the way I learned from Jeremy Ashkenas, and the way I like to do it:</p>
<pre><code class="hljs js"><span class="hljs-keyword">var</span> Namespace;
Namespace || (Namepace = {});</code></pre>

<p>This can also be used for arguments and local variables,</p>
<pre><code class="hljs js">Namespace.Model = {};

_.extend(Namespace.Model, {
  set: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(attrs, options)</span> </span>{
    options || (options = {});

    <span class="hljs-keyword">if</span> (options.logger) {
      <span class="hljs-keyword">return</span> options.logger.log(<span class="hljs-string">"Hello. Yes, This is log."</span>)
    }
  }
});

Namespace.Model.set({});
# =&gt; ...Nothing/no <span class="hljs-built_in">ReferenceError</span>!

Namespace.Model.set({}, {logger: <span class="hljs-built_in">console</span>})
# =&gt; <span class="hljs-string">"Hello. Yes, This is log."</span></code></pre>

          <hr>
          
          <p><a href="http://twitter.com/travisjeffery">Follow me on Twitter</a> to keep up with what I’ve learned building my personal finance tool, <a href="http://stash.cool">Stash</a>.</p>

          <footer>
            <div>
              <a href="https://twitter.com/share" class="twitter-share-button"{count} data-via="travisjeffery" data-size="large">Tweet about this article</a>
              <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
            </div>

            <p>
              <p>
                <strong>Subscribe to my mailing list to learn more about technology and business.</strong>
              
                <form action="//travisjeffery.us4.list-manage.com/subscribe/post?u=1e3ff7d7791b26a8f60b9f16c&amp;id=322d3e68e8" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
                  <fieldset class="form-group">
                    <label class="sr-only" for="mce-EMAIL">Email Address</label>
              	    <input placeholder="Email" type="email" value="" name="EMAIL" class="form-control" id="mce-EMAIL">
                    <small class="text-muted">Your email will never be shared with anyone else.</small>
                  </fieldset>
              
                  <input type="submit" value="Learn more about technology and business" name="subscribe" id="mc-embedded-subscribe" class="btn btn-primary" />
              
              	  <div id="mce-responses" class="clear">
              		  <div class="response" id="mce-error-response" style="display:none"></div>
              		  <div class="response" id="mce-success-response" style="display:none"></div>
              	  </div>
                  <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_1e3ff7d7791b26a8f60b9f16c_322d3e68e8" tabindex="-1" value=""></div>
                </form>
              </p>
              <a href="/#tech-writing">Read more posts &#8230;</a> <br>
              Written: March 20th, 2012<br>
              Categories: javascript, namespaces, "conditional, assignment"
            </p>
          </footer>
        </article>

        <hr>
        
        <footer class="footer">
          <a href="https://twitter.com/travisjeffery" class="twitter-follow-button" data-show-count="false" data-size="large">Follow @travisjeffery</a>
          <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>  
        </footer>
      </div>
    </div>
  </div>
</body>
</html>
