<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="description" content="Travis Jeffery">
    <link href="/css/style.css" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/css?family=IBM+Plex+Mono:400,400i|IBM+Plex+Serif:400,700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.9.1/styles/github.min.css" type="text/css" media="screen">
    <script src="/js/jquery.js" type="text/javascript" charset="utf-8"></script>
    <script src="/js/judy.js" type="text/javascript" charset="utf-8"></script>
    <script src="/js/main.js" type="text/javascript" charset="utf-8"></script>
    <script>
     (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
       (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
       m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
     })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  
     ga('create', 'UA-8462120-1', 'travisjeffery.com');
      ga('send', 'pageview');
    </script>
    <title>Getting the index path of a table view cell via a subview event</title>
  </head>
  <body>
    <div class="container-fluid container">
      <div class="row">
        <div class="col-xs-12 col-lg-8 col-lg-offset-2">
          <hgroup id="header">
            <h1 class="logo col-xs-6">
              <a class="" href="/">travis jeffery</a>
            </h1>
          
            <div class="social col-xs-6 pull-xs-right">
              <a href="https://twitter.com/travisjeffery" class="twitter-follow-button" data-show-count="false" data-size="large">Follow @travisjeffery</a>
              <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
            </div>
          </hgroup>
          
          <p>
            Software maker and writer.
          </p>
          
          <hr>

          <article>
            <header>
              <h1 class="article-title three-quarter-margin-bottom">Getting the index path of a table view cell via a subview event</h1>
            </header>

            <p>Let’s say you’ve subclassed UITableViewCell such that you have added a UIButton as a
subview, and whenever you touch that button you want to perform some action on
the data source of your UITableView. To do that you probably want to figure
out what index path is associated with the pressed button.</p>
<p>Here’s one way, the idea is to add a target and action to the
button of the cell for when it’s pressed, and then in that action get the index
path by having the table view tell us what index path is associated with
the point that was touched.</p>
<p>Add the target and action to the button of the cell for when it’s pressed,</p>
<pre><code>- (UITableViewCell *)<span class="hljs-string">tableView:</span>(UITableView *)tableView
<span class="hljs-symbol">  cellForRowAtIndexPath:</span>(NSIndexPath *)indexPath
{
  <span class="hljs-comment">// ...</span>
  [cell.myButton <span class="hljs-string">addTarget:</span>self <span class="hljs-string">action:</span><span class="hljs-meta">@selector</span>(<span class="hljs-string">touchMyButton:</span><span class="hljs-string">event:</span>) <span class="hljs-string">forControlEvents:</span>UIControlEventTouchUpInside];
  <span class="hljs-comment">// ...</span>
}</code></pre>

<p>Have the table view tell us what index path is associated with the point that was touched,</p>
<pre><code>- (<span class="hljs-keyword">void</span>)<span class="hljs-string">touchMyButton:</span>(UIButton*)button <span class="hljs-string">event:</span>(UIEvent*)event
{
    NSIndexPath* indexPath = [_tableView <span class="hljs-string">indexPathForRowAtPoint:</span>
                                  [[[event <span class="hljs-string">touchesForView:</span>button] anyObject]
<span class="hljs-symbol">                                  locationInView:</span>_tableView]];
    <span class="hljs-comment">// ... </span>
}</code></pre>

          </article>

          <hr>

          <footer>
            <p class="half-margin-bottom">
              Share: <a href="https://twitter.com/share" class="twitter-share-button"{count} data-via="travisjeffery" data-size="large">Tweet about this article</a><br>
              <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
              Written: July 22nd, 2012<br>
              Tags: ios
            </p>

            <p class="one-margin-bottom"><a href="/#recent">Read more posts &#8230;</a></p>
          </footer>
          <hr>
          
          <footer class="footer">
            <a href="https://twitter.com/travisjeffery" class="twitter-follow-button" data-show-count="false" data-size="large">Follow @travisjeffery</a>
            <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>  
          </footer>
        </div>
      </div>
    </div>
  </body>
</html>
